<?xml version="1.0" standalone="no"?>

<kickstart>

  <description>
  
  A Rocks Cluster Devel Server. This is a place to compile.

  </description>

  <changelog>
  $Log: lite-client.xml,v $
  Revision 1.2  2012/10/06 00:19:40  clem
  A couple of touches to improve the lite appliance

  Revision 1.1  2011/01/13 22:37:18  phil
  Checkpoint. New version of ami/api tools, condor plugin. lightweight appliance

  Revision 1.4  2010/01/15 03:27:29  phil
  Update to use attrs.
  State -- properly builds devel server. Need to look at bundle/upload commands

  Revision 1.3  2009/06/09 22:45:29  phil
  Fixes. Create profile directories properly

  Revision 1.2  2009/06/04 19:47:04  phil
  Small fixups to properly boot the ec2 kernel under Rocks.

  Revision 1.1  2009/06/01 07:02:23  phil
  Checkpoint

  </changelog>

<pre>

<!--
	this is used to skip by the browser popup during a client install.
	we only want the browser (firefox) to popup on server installs
	because the browser prompts the user for configuration info
-->
touch /tmp/rocks-skip-welcome

</pre>

<package>openssl</package>
<package>foundation-python</package>

<post>
<file name="/etc/motd" mode="append">
Rocks &rocks_version; Lightweight Server
</file>
chkconfig --del autofs

if [ ! -d  /home ]; then 
	mkdir -p /home; 
fi

if [ ! -d  /mnt/cdrom ]; then 
	mkdir -p /mnt/cdrom; 
fi

</post>



<!-- 
     This section will contains the code to make the UDT receiver used by 
     rocks upload ec2 bundlefast
     To create this node use
     rocks add host vm vm-container-0-0 "Lightweight Appliance"
     rocks add host attr lite-0-0-0 udt_receiver true
     rocks start host vm lite-0-0-0
     ssh lite-0-0-0 poweroff
     rocks create ec2 bundle lite-0-0-0
     rocks update ec2 bundle lite-0-0-0
-->

<package cond="udt_receiver">foundation-python</package>

<post cond="udt_receiver">

</post>

</kickstart> 

